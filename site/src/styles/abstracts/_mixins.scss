// Mixins for common patterns and reusability
@use 'variables' as *;

// Responsive breakpoints
@mixin respond-to($breakpoint) {
    @if $breakpoint ==xs {
        @media (min-width: $breakpoint-xs) {
            @content;
        }
    }

    @if $breakpoint ==sm {
        @media (min-width: $breakpoint-sm) {
            @content;
        }
    }

    @if $breakpoint ==md {
        @media (min-width: $breakpoint-md) {
            @content;
        }
    }

    @if $breakpoint ==lg {
        @media (min-width: $breakpoint-lg) {
            @content;
        }
    }

    @if $breakpoint ==xl {
        @media (min-width: $breakpoint-xl) {
            @content;
        }
    }

    @if $breakpoint ==2xl {
        @media (min-width: $breakpoint-2xl) {
            @content;
        }
    }
}

// Container with max-width
@mixin container($size: lg) {
    width: 100%;
    margin: 0 auto;
    padding: 0 $space-md;

    @if $size ==sm {
        max-width: $container-sm;
    }

    @else if $size ==md {
        max-width: $container-md;
    }

    @else if $size ==lg {
        max-width: $container-lg;
    }

    @else if $size ==xl {
        max-width: $container-xl;
    }

    @include respond-to(md) {
        padding: 0 $space-lg;
    }
}

// Flexbox utilities
@mixin flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

@mixin flex-between {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

@mixin flex-column {
    display: flex;
    flex-direction: column;
}

// Button styles
@mixin button-base {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border: none;
    border-radius: $border-radius-md;
    font-family: inherit;
    font-weight: $font-weight-medium;
    text-decoration: none;
    cursor: pointer;
    transition: all $transition-base;
    white-space: nowrap;

    &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }
}

@mixin button-primary {
    @include button-base;
    background-color: $color-primary;
    color: white;

    &:hover:not(:disabled) {
        background-color: $color-primary-dark;
        transform: translateY(-1px);
        box-shadow: $shadow-md;
    }

    &:active {
        transform: translateY(0);
    }
}

@mixin button-secondary {
    @include button-base;
    background-color: transparent;
    color: $color-text-link;
    border: 1px solid $color-border-accent;

    &:hover:not(:disabled) {
        background-color: $color-bg-hover;
        color: $color-text-link-hover;
    }
}

@mixin button-ghost {
    @include button-base;
    background-color: transparent;
    color: $color-text-secondary;

    &:hover:not(:disabled) {
        background-color: $color-bg-hover;
        color: $color-text-primary;
    }
}

// Button sizes
@mixin button-sm {
    padding: $space-sm $space-md;
    font-size: $font-size-sm;
    gap: $space-xs;
}

@mixin button-md {
    padding: $space-md $space-lg;
    font-size: $font-size-base;
    gap: $space-sm;
}

@mixin button-lg {
    padding: $space-lg $space-xl;
    font-size: $font-size-lg;
    gap: $space-sm;
}

// Card styles
@mixin card-base {
    background-color: $color-bg-tertiary;
    border: 1px solid $color-border-primary;
    border-radius: $border-radius-lg;
    transition: all $transition-base;
}

@mixin card-hover {
    &:hover {
        transform: translateY(-2px);
        box-shadow: $shadow-lg;
        border-color: $color-border-accent;
    }
}

@mixin card-interactive {
    @include card-base;
    @include card-hover;
    cursor: pointer;
}

// Text styles
@mixin text-heading-1 {
    font-size: $font-size-4xl;
    font-weight: $font-weight-bold;
    line-height: $line-height-tight;
    color: $color-text-primary;

    @include respond-to(md) {
        font-size: $font-size-5xl;
    }
}

@mixin text-heading-2 {
    font-size: $font-size-3xl;
    font-weight: $font-weight-bold;
    line-height: $line-height-tight;
    color: $color-text-primary;

    @include respond-to(md) {
        font-size: $font-size-4xl;
    }
}

@mixin text-heading-3 {
    font-size: $font-size-2xl;
    font-weight: $font-weight-semibold;
    line-height: $line-height-tight;
    color: $color-text-primary;

    @include respond-to(md) {
        font-size: $font-size-3xl;
    }
}

@mixin text-body-large {
    font-size: $font-size-lg;
    line-height: $line-height-relaxed;
    color: $color-text-secondary;

    @include respond-to(md) {
        font-size: $font-size-xl;
    }
}

@mixin text-body {
    font-size: $font-size-base;
    line-height: $line-height-normal;
    color: $color-text-secondary;
}

@mixin text-small {
    font-size: $font-size-sm;
    line-height: $line-height-normal;
    color: $color-text-tertiary;
}

// Focus styles
@mixin focus-outline {
    &:focus {
        outline: 2px solid $color-primary;
        outline-offset: 2px;
    }

    &:focus:not(:focus-visible) {
        outline: none;
    }
}

// Gradient utilities
@mixin gradient-primary {
    background: linear-gradient(135deg, $color-primary 0%, $color-primary-light 100%);
}

@mixin gradient-text {
    background: linear-gradient(135deg, $color-primary 0%, $color-secondary 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

// Loading animation
@mixin loading-shimmer {
    background: linear-gradient(90deg,
            $color-bg-tertiary 25%,
            $color-bg-hover 50%,
            $color-bg-tertiary 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }

    100% {
        background-position: 200% 0;
    }
}

// Visually hidden (for accessibility)
@mixin visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

// Convenient heading aliases
@mixin heading-1 {
    @include text-heading-1;
}

@mixin heading-2 {
    @include text-heading-2;
}

@mixin heading-3 {
    @include text-heading-3;
}

@mixin heading-4 {
    font-size: $font-size-xl;
    font-weight: $font-weight-semibold;
    line-height: $line-height-tight;
    color: $color-text-primary;

    @include respond-to(md) {
        font-size: $font-size-2xl;
    }
}

// Text size aliases for convenience
@mixin text-lg {
    @include text-body-large;
}

// Responsive aliases for convenience
@mixin mobile {
    @include respond-to(sm) {
        @content;
    }
}

@mixin tablet {
    @include respond-to(md) {
        @content;
    }
}

@mixin desktop {
    @include respond-to(lg) {
        @content;
    }
}
