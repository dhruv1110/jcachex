// Button component styles
.btn {
    @include button-base;
    @include button-md; // Default size
    @include focus-outline;

    // Button variants
    &--primary {
        @include button-primary;
    }

    &--secondary {
        @include button-secondary;
    }

    &--ghost {
        @include button-ghost;
    }

    &--success {
        @include button-base;
        background-color: $color-success;
        color: white;

        &:hover:not(:disabled) {
            background-color: darken($color-success, 10%);
            transform: translateY(-1px);
            box-shadow: $shadow-md;
        }
    }

    &--warning {
        @include button-base;
        background-color: $color-warning;
        color: white;

        &:hover:not(:disabled) {
            background-color: darken($color-warning, 10%);
            transform: translateY(-1px);
            box-shadow: $shadow-md;
        }
    }

    &--error {
        @include button-base;
        background-color: $color-error;
        color: white;

        &:hover:not(:disabled) {
            background-color: darken($color-error, 10%);
            transform: translateY(-1px);
            box-shadow: $shadow-md;
        }
    }

    // Button sizes
    &--sm {
        @include button-sm;
    }

    &--md {
        @include button-md;
    }

    &--lg {
        @include button-lg;
    }

    // Button shapes
    &--round {
        border-radius: $border-radius-full;
    }

    &--square {
        border-radius: 0;
    }

    // Button states
    &--loading {
        position: relative;
        color: transparent;

        &::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 1rem;
            height: 1rem;
            border: 2px solid transparent;
            border-top: 2px solid currentColor;
            border-radius: $border-radius-full;
            animation: spin 0.8s linear infinite;
        }
    }

    &--block {
        width: 100%;
        justify-content: center;
    }

    // Icon buttons
    &--icon-only {
        padding: $space-sm;

        &.btn--sm {
            padding: $space-xs;
        }

        &.btn--lg {
            padding: $space-md;
        }
    }

    // Button with icon
    &__icon {
        width: 1.25em;
        height: 1.25em;

        &--left {
            margin-right: $space-xs;
        }

        &--right {
            margin-left: $space-xs;
        }
    }
}

// Button group
.btn-group {
    display: inline-flex;

    .btn {
        border-radius: 0;

        &:first-child {
            border-top-left-radius: $border-radius-md;
            border-bottom-left-radius: $border-radius-md;
        }

        &:last-child {
            border-top-right-radius: $border-radius-md;
            border-bottom-right-radius: $border-radius-md;
        }

        &:not(:last-child) {
            border-right: 1px solid $color-border-primary;
        }

        &:hover {
            z-index: 1;
        }
    }

    &--vertical {
        flex-direction: column;

        .btn {
            &:first-child {
                border-radius: $border-radius-md $border-radius-md 0 0;
            }

            &:last-child {
                border-radius: 0 0 $border-radius-md $border-radius-md;
            }

            &:not(:last-child) {
                border-right: none;
                border-bottom: 1px solid $color-border-primary;
            }
        }
    }
}

// Animations
@keyframes spin {
    0% {
        transform: translate(-50%, -50%) rotate(0deg);
    }

    100% {
        transform: translate(-50%, -50%) rotate(360deg);
    }
}
